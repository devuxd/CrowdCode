<div class="top padding">
	<div class="form-group has-feedback">
		<input type="text" ng-model="search" class="form-control" placeholder="filter questions">
		<span class="glyphicon glyphicon-search form-control-feedback" aria-hidden="true"></span>
	</div>
</div>
<div class="middle">
	<div class="padding">
		<button class="btn btn-sm btn-primary" ng-click="setView('question_form'); ">Ask a question</button>
		<div ng-if="questions.length == 0 && search.length > 0 ">no questions found matching the filter <strong>{{search}}</strong> (<a href="#" ng-click="resetFilter()">reset filter</a>)</div>
		<div ng-if="questions.length == 0 && search.length == 0">no questions yet!</div>
	</div>

	<ul class="list-group questions-list" ng-if="questions.length > 0">

		<li class="list-group-item list-header" ng-show=" loadedArtifact != null ">
			Related to {{loadedArtifact.name}}
		</li>
		<li ng-show=" loadedArtifact != null && ( questions | relatedToArtifact : loadedArtifact.id ).length == 0 "> no questions related to the function {{ loadedArtifact.name }} </li>
		<li class="list-group-item question-item {{ q.closed ? '' : 'open' }}"
			ng-show="loadedArtifact != null" 
			ng-click="setView('question_detail'); setSelected(q)" 
			ng-repeat="q in questions | relatedToArtifact : loadedArtifact.id  | orderBy : 'closed'  "
			>
			<div>{{q.title}}</div>
			<div >
				<span class="pull-left">
					<time-ago style="font-style: italic; font-size: 0.8em;" from-time="{{q.time | date : 'medium'}}"></time-ago>
				</span> 

				<span class="pull-right" style="text-align:right;">
					<span ng-repeat="tag in q.tags" class="tag" ng-click="addToFilter(tag); $event.stopPropagation();">{{tag}}</span>
				</span> 

				<span class="clearfix"></span>
			</div>
			<div>
				<span class="pull-left" >
					<span class="glyphicon glyphicon-thumbs-up"></span>
					{{ q.score }}
					<span class="glyphicon glyphicon-comment" style="margin-left: 10px;"></span>
					{{ q.answers | objectLength }}
				</span>
				

				<span class="pull-right" ng-if="loadedArtifact != null">
					<a href="#" class="btn btn-toggle btn-toggle-on" ng-click="toggleRelation(q); $event.stopPropagation();" style="font-size: 0.9em;">{{loadedArtifact.name}}</a>
				</span>

				<span class="clearfix"></span>
				
			</div>
			
		</li>

		<li class="list-group-item list-header" ng-show=" ( questions | unrelatedToArtifact : loadedArtifact.id ).length > 0 ">
			Other questions
		</li>
		<li class="list-group-item question-item {{ q.closed ? '' : 'open' }}" 
			ng-click="setView('question_detail'); setSelected(q)" 
			ng-repeat="q in questions | unrelatedToArtifact : loadedArtifact.id | orderBy : 'closed' ">
			<div>{{q.title}}</div>
			<div >
				<span class="pull-left">
					<time-ago style="font-style: italic; font-size: 0.8em;" from-time="{{q.time | date : 'medium'}}"></time-ago>
				</span> 

				<span class="pull-right" style="text-align:right;">
					<span ng-repeat="tag in q.tags" class="tag" ng-click="addToFilter(tag); $event.stopPropagation();">{{tag}}</span>
				</span> 

				<span class="clearfix"></span>
			</div>
			<div>
				<span class="pull-left" >
					<span class="glyphicon glyphicon-thumbs-up"></span>
					{{ q.score }}

					<span class="glyphicon glyphicon-comment" style="margin-left: 10px;"></span>
					{{ q.answers | objectLength }}
				</span>
				

				<span class="pull-right" ng-if="loadedArtifact != null" >
					<a href="#" class="btn btn-toggle" ng-click="toggleRelation(q); $event.stopPropagation();" style="font-size: 0.9em;">{{loadedArtifact.name}}</a>
				</span>

				<span class="clearfix"></span>
				
			</div>
			
		</li>
	</ul>

</div>