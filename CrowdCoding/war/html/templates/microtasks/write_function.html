<div ng-controller="WriteFunctionController" >
	<div class="section section-description " >
		
		
		<div ng-include="'/html/templates/microtasks/microtask_title.html'"></div>
		<div class="section-content job-description" >
			
			<div ng-if="::microtask.promptType=='SKETCH'">
				Can you write some code in the function below? 
				<br />But don't be a hog: if there's a lot to do, be sure to use function calls and/or pseudocode to leave some work for others.
			</div>
			<div ng-if="::microtask.promptType=='RE_EDIT'">
				The crowd found an issue with this function. <br />
				Can you edit the function to address the issue?
			</div>
			<div ng-if="::microtask.promptType=='REMOVE_CALLEE'">
				The crowd found an issue with the callee <strong>{{callee.getName()}}</strong>. <br />
				Can you substitute the calle with a different code?
			</div>
			
			<div ng-if="::microtask.promptType=='DESCRIPTION_CHANGE'">
				The description of a function called in the code below has changed. Can you update the code
				(if necessary)?
			</div>
		</div>
	</div>


	<div ng-show="microtask.reissuedFrom !== undefined" ng-include="'/html/templates/reissue_microtask.html'"></div>

	<div class="section section-description" ng-if="::microtask.promptType=='RE_EDIT' || microtask.promptType=='REMOVE_CALLEE'" >
		<div class="section-title"> <div class="dot bg-color"></div> ISSUE DESCRIPTION </div>
		<div  class="section-content" >
			<span ng-bind="::microtask.disputeText"></span>
		</div>
	</div>
				

	<div class="section section-description" ng-if="::(microtask.promptType=='SKETCH' || microtask.promptType=='RE_EDIT')">
		<div class="section-title"> <div class="dot bg-color"></div> FUNCTION CONVENTIONS </div>
		<div  class="section-content" >
			<function-convections ></function-convections>
		</div>
	</div>
	<div class="section section-description" ng-if="::microtask.promptType=='DESCRIPTION_CHANGE'">
		<div class="section-title" > <div class="dot bg-color"></div> FUNCTION signature different </div>
		<div class="section-content no-padding" >
			<ace-read-js code="::diffCode" mode="diff" ></ace-read-js>
		</div>
	</div>
	<div class="section section-description" ng-if="::microtask.promptType=='REMOVE_CALLEE'">
		<div class="section-title" > <div class="dot bg-color"></div> CALLEE TO REMOVE </div>
		<div class="section-content no-padding" >
			<ace-read-js code="::callee.getSignature()"></ace-read-js>
		</div>
	</div>
	<alertcontainer></alertcontainer>
	
	<div class="section-cols" >
		<div class="container-flex-row" ng-show="!dispute.active" >
			<div class="section section-help bg-color-alpha" style="width:30%;">
				<div class="section-title" > <div class="dot"></div> AVAILABLE DATA TYPES </div>
				<div class="section-content" >
					<adt-list></adt-list>
				</div>
				<div class="section-title" > <div class="dot"></div> 
				<javascript-helper ></javascript-helper></div>
			</div>
			<div class="section section-form" style="width:70%;" >
				<div class="pull-right">
					<a ng-click="dispute.toggle(); $event.preventDefault(); $event.stopPropagation();">
						Report function as not implementable <span class="glyphicon glyphicon-exclamation-sign"></span>
					</a>
				</div>
				<div class="clearfix"></div>
				<function-editor
					ng-show=" ! dispute.active"
					code="code"
					codemirror="codemirror"
					funct="funct"
					highlight ="callee.getName()"
					>
				</function-editor>
			</div>
		</div>
		<div class="container-flex-row" ng-show="dispute.active">
			<div class="section section-form" style="width:100%" >
				<div class="section-content">
					<div class="heading-1" >Why this function is not implementable?</div>
					<textarea 
						name="disputeFunctionText" 
						class="form-control required" 
						style="resize:none" 
						ng-model="dispute.text" 
						ng-required="dispute.active">
					</textarea>
					<a href="#" class="btn btn-sm pull-right" ng-click="dispute.toggle()" > Go back</a>
				</div>
				<span class="clearfix"></span>
			</div>
		</div>
	</div>
</div>
