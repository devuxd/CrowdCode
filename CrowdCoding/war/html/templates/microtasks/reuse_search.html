<div ng-controller="ReuseSearchController" >

	<div class="section section-description " >
		
		<div ng-include="'/html/templates/microtasks/microtask_title.html'"></div>

		<div class="section-content job-description" >
			While editing the function <strong>{{funct.name}}</strong>, a worker requested a function call to <strong>{{ pseudoName }}</strong>.<br/>
			Can you find a function providing the requested behavior, or indicate that no such function exists?
		</div>
	</div>
	<div class="section section-description">
		<div class="section-title" >
			<div class="dot bg-color"></div> REQUESTED BEHAVIOR
		</div>
		<div class="section-content no-padding" >
			<ace-read-js code="microtask.callDescription"></ace-read-js>
		</div>
	</div>

	<div class="section section-description">
		<div class="section-title" >
			<div class="dot bg-color"></div> REQUESTING FUNCTION CODE
		</div>
		<div class="section-content no-padding" >
			<ace-read-js code="code"></ace-read-js>
		</div>
	</div>


	<alertcontainer></alertcontainer>


	<div class="section-cols" >
		<div class="container-flex-row">
			<div class="section section-help bg-color-alpha" style="width:30%">
				<div class="section-title" >
					<div class="dot"></div> HINT
				</div>
				<div class="section-content" >
					Choose a function that provides the requested behavior ( you can filter the list of functions by entering text in the input box).
					<strong>If there isn't the right function, click check "no function found".</strong>

				</div>
			</div>
			<div class="section section-form" style="width:70%;" >
				<div class="section-title no-padding" >

					<div class="input-group">
						<input
							class="form-control"
							tabindex="1"
							type="text"
							name="newtestcase"
							ng-model="text"
							ng-change="doSearch()"
							placeholder="Search for functions"
							focus/>
						<span class="input-group-btn">
							<button class="btn btn-default" ng-click="doSearch()" type="button" tabindex="2">
								<span class="glyphicon glyphicon-filter"></span>
							</button>
						</span>

					</div>
					<div class="input-group" style="width:100%">

						<b>If you can't find any, select: 
						<input type="checkbox" ng-model="selectedResult" ng-true-value="-1" ng-false-value="-2"> No function found</b>
					</div>
				</div>
				<div class="section-content no-padding">

					<div ng-if="results.length > 0" class="list-group">
						<div ng-repeat= "function in results | orderBy:'-score'" 
						     class="list-element animate-repeat {{ selectedResult == $index ? 'selected' : '' }}"
						     ng-click="select($index)" description-popover="function.value.getSignature()">
								<b>{{function.value.getHeader()}}</b>
						</div>
					</div>
					<span ng-if="results.length == 0" >No function found</span>
					

				</div>


			</div>


		</div>
	</div>

</div>

