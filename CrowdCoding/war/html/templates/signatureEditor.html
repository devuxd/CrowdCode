	var nextParam = 2;
	var functionNames;
	
	$(document).ready(function()
	{
		functionNames = buildFunctionNames();
		
		$('#errorMessages').hide();
		
		$("input[type=text]").focus(function(){
		    // Select field contents
		    this.select();
		});
		
		$("#addParameter").click(function()
		{
			$("#addParamRow").before('<tr id="params' + nextParam + '"><td></td><td>' +						
				    '<input type="text" onblur="validateAll(true)" placeholder = "paramName" class="input-small">,&nbsp;&nbsp;//' + 
					'&nbsp;<input type="text" onblur="validateAll(true)" placeholder = "type" class="input-small">&nbsp;&nbsp;-&nbsp;&nbsp;' + 
					'<input type="text" placeholder = "what is it for?" class="input-xlarge"> ' +	
					'<a href="#" onclick="deleteParams(\'#params' + nextParam + '\')" class="closeButton">&times;</a>' +	
					'</td>');
			// Set focus to the first input field in the new row.
			$('#params' + nextParam).find("input").eq(0).focus();

			nextParam++;						
			return false;
		});
	});
	
 	// Builds a list of names of every function declared in the system
 	function buildFunctionNames()
 	{
 		var names = [];
 		var functionsAST = esprima.parse(allTheFunctionCode);	
 		
 		// Iterate over each function declaration, grabbing its name
 		$.each(functionsAST.body, function(index, bodyNode)
 		{
 			if (bodyNode.type == "FunctionDeclaration")		
 				names.push(bodyNode.id.name);
 		});
 		
 		return names;
 	}	
			  
	function deleteParams(params)
	{
		$(params).remove();
	}
	
	// Validates all form fields that require validity checking, updating the 
	// errorMessages div as appropriate to show errors. If ignoreEmpty is true, fields that are currently
	// empty are ignored. Returns true iff all of the validated fields are correct.
	function validateAll(ignoreEmpty)
	{
		var errors = '';
				
		errors += validateFunctionName($("#name"), ignoreEmpty);
	    errors += validateReturnTypeName($("#returnType"), ignoreEmpty);
		
	    $("tr[id^=params]").each(function(index, value)
   	    {	    		    	
   	    	errors += validateParamName($(this).find("input").eq(0), ignoreEmpty);
   	    	errors += validateParamTypeName($(this).find("input").eq(1), $(this).find("input").eq(0).val(),
   	    			ignoreEmpty);   	    	
   	    });
		
		if (errors != '')
		{
			$('#errorMessages').show();
			$('#errorMessages').html(errors);
			return false;
		}
		else
		{
			$('#errorMessages').hide();
			return true;
		}		
	}








<textarea id="functionDescription" draggable="true" placeholder="Can you briefly describe the purpose and behavior of the function?"></textarea>
returns &nbsp;&nbsp;<input type="text" id="returnType" onblur="validateAll(true)" placeholder = "return type" class="input-medium"><BR>
function 
<input type="text" id="name" onblur="validateAll(true)" placeholder = "functionName" class="input-medium">(
<BR>
<div class="form-group" ng-class="{ 'has-error': testCaseForm.testcase.$dirty && testCaseForm.testcase.$invalid , 'has-success': testCaseForm.testcase.$valid}" >
<table>
	<tr id="params1">
		<td width="20">
		<td>
		<input class="form-control input-sm" type="text" ng-model="function[index].paramName" name="paramName" placeholder="paramName" required/>
		<input class="form-control input-sm" type="text" ng-model="function[index].type" name="type" placeholder="type" required/>
		<input class="form-control input-sm" type="text" ng-model="function[index].paramDescription" name="paramDescription" placeholder="what is it for?" required/>
		<div class="col-md-1" ><button ng-click="deleteParameter(index)" class="btn btn-sm">X</button></div>
	
		</td>
	<tr>
	<button ng-click="addParameter()" class="btn btn-sm">Add a parameter</button>		
	</tr>
</table>
);
</div>
<div id="errorMessages" class="alert alert-error"></div>


	<ng-form ng-if="testCases.length > 0" name="testCaseForm" ng-repeat="(index,test) in testCases" >
			<div class="form-group" ng-class="{ 'has-error': testCaseForm.testcase.$dirty && testCaseForm.testcase.$invalid , 'has-success': testCaseForm.testcase.$valid}" >
		
				<label class="col-md-1" for="testcase">#{{index+1}}: </label>
				<span class="col-md-10"> 
					<input class="form-control input-sm" type="text" ng-model="testCases[index].text" name="testcase" placeholder="Describe a test case" required/>
					<ul class="help-block" ng-show="testCaseForm.testcase.$dirty && testCaseForm.testcase.$invalid">
						<li ng-show="testCaseForm.testcase.$error.required" >
							This field is required! 
							<button class="btn-link" ng-click="deleteTestCase(index)">remove this test case</button>
						</li>
					</ul>
				</span>
				<div class="col-md-1" ><button ng-click="deleteTestCase(index)" class="btn btn-sm">X</button></div>
			</div>
		</ng-form>
