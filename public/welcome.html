<html>

<head>
    <title>Crowd Microservices</title>

    <link href='https://fonts.googleapis.com/css?family=Merriweather:300normal,300italic,400normal,400italic,700normal,700italic,900normal,900italic|Lato:100normal,100italic,300normal,300italic,400normal,400italic,700normal,700italic,900normal,900italic'
          rel='stylesheet'
          type='text/css'>
    <!--
    <link rel="stylesheet" href="include/bootstrap/css/bootstrap.min.css">
    <script src="include/jquery.min.js" type="text/javascript"></script>
    <script src="include/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    -->
    <!-- JQuery JavaScript -->
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"
            integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
            crossorigin="anonymous"></script>
    <!--  Bootstrap minified CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <!-- Bootstrap JavaScript -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>


    <script src="https://www.gstatic.com/firebasejs/4.1.1/firebase.js"></script>
    <script>
        var config = {
            apiKey: "AIzaSyCmhzDIbe7pp8dl0gveS2TtOH4n8mvMzsU",
            authDomain: "crowdcode2.firebaseapp.com",
            databaseURL: "https://crowdcode2.firebaseio.com",
            projectId: "crowdcode2",
            storageBucket: "crowdcode2.appspot.com",
            messagingSenderId: "382318704982"
        };
        firebase.initializeApp(config);
    </script>
    <style type="text/css">
        body {
            font-size: 18px;
            text-align: center;
            font-family: 'Lato' !important;
        }

        .navbar {
            font-family: 'Lato' !important;
            background-color: #555;
        }

        .navbar .navbar-brand {
            color: white;
        }

        .container-fluid {
        }

        h1 {
            font-size: 2.0em;
            font-weight: 800;
            line-height: 2.5em;
        }

        h2 {
            font-size: 1.4em;
            font-weight: 800;
        }

        img {
            width: 100%;
        }
    </style>
</head>

<body>


<div class="container-fluid">


    <h2 style="margin-bottom: 50px;"> Tutorial : watch the video below to learn how to get started</h2>
    <!--<div class="row ">-->
    <div class='row'>
        <div class='col-md-2'></div>
        <div class='col-md-8'>
            <div class="embed-responsive embed-responsive-16by9 ">
                <!--<video  controls>-->
                <!--<source src="/video/CrowdDemoLight.mp4" type="video/mp4">-->
                <!--</video>-->
                <iframe class="embed-responsive-item" src="/video/CrowdDemoLight.mp4" allowfullscreen
                        autoplay="0"></iframe>
            </div>
        </div>
        <div class='col-md-2'></div>
    </div>

    <div style="background-color: rgba(42,56,85,0.2);">
        <div style="margin-top: 150px;">
            <h2>Crowd Microservices contains two types of microtasks you’ll be asked to do: Implement Function Behavior
                and
                Review.</h2>
        </div>
        <div>
            <div class="row">

                <div class="col-md-9">
                    <h3 class="pull-left"><strong> Type A: Implement Function Behavior Microtask</strong></h3>
                    <!--<h3>Here are the steps to follow:</h3>-->
                </div>
            </div>
            <div class="row">
                <!--<div class="col-md-1"></div>-->
                <div class="col-md-8">
                    <h4><strong>Step 1: </strong>In the function description, located in the comments above the
                        function, find one, and
                        only
                        one, behavior that is not yet implemented. For example: “test validation of input
                        arguments”. </h4>
                    <img src="/img/Behave-step1.png" style="max-height: 5cm;;max-width: 24cm"/>
                </div>
                <div class="col-md-3">
                    <h4><strong>Step 2: </strong>Write a test for the behavior you have chosen</h4>
                    <img src="/img/behvae-step2-assertion-code.png" style="max-height: 7cm;;max-width: 24cm"/>
                </div>
            </div>
            <div class="row" style="margin-top: 20px;margin-bottom: 15px">
                <!--<div class="col-sm-1"></div>-->
                <div class="col-md-8 ">
                    <h4><strong>Step 3: </strong>For the <strong>one</strong> behavior you selected, implement the
                        behavior in the
                        function
                        editor. For example, to implment “test validation of input arguments” </h4>
                    <!--<img  src="/img/SubmitButton.png"/>-->
                    <img src="/img/behave-Step3.png" style="max-height: 5cm;max-width: 16cm; margin-bottom: 10px "/>
                </div>

                <div class="col-md-3">
                    <h4><strong>Step 4: </strong>Once you’re finished, click “Submit” button.</h4>
                    <img src="/img/SubmitButton.png" style="max-height: 3cm;max-width: 5cm"/>
                </div>
            </div>
        </div>
        <div>

            <div class="row">
                <div class="col-md-9" class="row justify-content-start">
                    <h3 class="pull-left"><strong>Type B: Review Microtask</strong></h3>
                    <!--<p>Here are the steps to follow:</p>-->
                </div>

            </div>
            <div class="row">

                <div class="col-md-6">
                    <h4><strong>Step 1:</strong> Review implementation of the behavior which is written by other
                        programmer</h4>
                    <img src="/img/tutorial/review/review_step1.png" style="max-height: 8cm;max-width: 12cm"/>
                </div>

                <div class="col-md-4">
                    <h4><strong>Step 2:</strong> Review tests of this behavior</h4>
                    <img src="/img/tutorial/review/review_step2.png" style="height: 130px"/>
                </div>
            </div>

            <div class="row" style="margin-top: 20px">
                <div class="col-md-1"></div>
                <div class="col-md-5">
                    <h4><strong>Step 3:</strong> Rate the contribution and give a feedback to the development</h4>
                    <img src="/img/tutorial/review/review_step3.png"
                         style="max-height: 200px;max-width: 450px; margin-bottom: 10px"/>
                </div>

                <div class="col-md-4">
                    <h4><strong>Step 4:</strong> Once you’re finished, click “Submit” button</h4>
                    <img src="/img/SubmitButton.png" style="max-height: 80px;max-width: 5cm"/>
                </div>
            </div>
        </div>
    </div>
    <div style="background-color: rgba(42,56,85,0.2); margin-top: 20px;">
        <div>
            <p style="text-align: start">
                <Strong>TIP 1: </strong>In each Implement behavior Function microtask. You should be aware implement
                only one behavior, write for only one behavior and submit the task.
                In the function description(in the comments above the function) there is a lot of behaviors,
                but choose one of them for implement. for example: in the below screenshot, function has
                behaviors like 1) it update status of a todo 2) it return false if it can not find the todo.
                3) it should call 3rd party api for interacting with database.
                4) it throw an exception if arguments be invalid.
                <strong style="color: red"> But, you should implement and submit just one of these behaviors such as
                    specified via rectangle in screenshot, NOT ALL BEHAVIORS.</strong>
            </p>
            <img src="/img/function-description.png" style="max-height: 300px; max-width: 800px;margin-bottom: 10px"/>
        </div>
    </div>

    <div style="background-color: rgba(42,56,85,0.2); margin-top: 20px;">


        <p style="text-align: start">
            <Strong>TIP 2: </strong>
            Sometimes, behaviors are complicated and you want to create a new function which is responsible for
            that behavior. If you need a supporting function to realize the implementation, you can create a new
            function and
            submit your task. This function will then be assigned to OTHER programmers to implement,
            <strong style="color: red">you should NOT implement the new function, you should just write a
                description in the below of main function and call the new function in the body
                of your main function and finally submit it.</strong>
        </p>

        <div class="row">
            <div class="col-md-1">
            </div>
            <div class="col-md-10">

                <p style="text-align: start">
                    <strong>Step 1:</strong> create a new function, use shortcut keys OPTION + SPACE(Mac) or CTRL +
                    SPACE(Windows/Linux) and
                    select “Add a new function”.
                </p>
                <img src="/img/tutorial/running/add_function2.png"
                     style="max-height: 300px; max-width: 800px;margin-bottom: 10px"/>
            </div>
            <div class="col-md-1">
            </div>
        </div>

        <div class="row">
            <div class="col-md-1">
            </div>

            <div class="col-md-10">

                <p style="text-align: start"> You should ONLY write a comment specifying the function name,
                    description,
                    parameters, parameter types and return type. The body of the new function will be implemented by
                    other programmers. <strong style="color: red"> When you want to run your tests, since this new
                        function is not implemented yet, you can use the
                        stub feature to replace the actual value (undefined, as the function does not yet exist) with
                        the intended output that the implementation will eventually produce.</strong>
                    The final output will be something like this.
                </p>

                <img src="/img/tutorial/running/new_function2.png"
                     style="max-height: 300px; max-width: 800px;margin-bottom: 10px"/>
            </div>
            <div class="col-md-1">
            </div>
        </div>
        <div class="row">
            <div class="col-md-1">
            </div>

            <div class="col-md-10">
                <p style="text-align: start">
                    <Strong>Step 2: </strong>
                    To stub a function, first click “Inspect code” to enter the inspect mode.
                </p>

                <img src="/img/tutorial/running/inspect_button.png"
                     style="max-height: 300px; max-width: 400px;margin-bottom: 10px"/>
            </div>
        </div>
        <div class="row">
            <div class="col-md-1">
            </div>

            <div class="col-md-10">
                <p style="text-align: start">
                    <Strong>Step 3: </strong> Clicking on a function call opens a popup that allows to stub a function.
                </p>
            </div>
            <img src="/img/tutorial/running/new_function_stub_1.png"
                 style="max-height: 300px; max-width: 800px;margin-bottom: 10px"/>
        </div>
        <div class="row">
            <div class="col-md-1">
            </div>

            <div class="col-md-10">
                <p style="text-align: start">
                    <Strong>Step 4: </strong>

                    In the stub editor, you can replace the actual output with a stub value representing a desired
                    output.
                    This will then automatically replace all calls to this function with this input with the output you
                    specified.
                    Whenever you run the tests, whatever stubs have been created will be used in place of calling actual
                    functions. Run the tests again with the stub for the invoked
                    function.
                </p>
                <img src="/img/tutorial/running/new_function_stub_2.png"
                     style="max-height: 300px; max-width: 800px;margin-bottom: 10px"/>
            </div>
        </div>
    </div>
</div>
</div>
<div>
<!--    <h4>If you are ready, please insert the name project in the bellow input field then click "Get Started!" </h4>-->
    <h4>If you are ready, please click "Get Started!"</h4> <h6>if there was an error please refresh the page </h6>
    <div class="row">
        <div class="col-md-4"></div>

<!--        <div class="col-md-4">-->
<!--            <div class="form-group">-->
<!--                <label for="projectName">Name of project:</label>-->
<!--                &lt;!&ndash;<div style="text-align:center;">&ndash;&gt;-->
<!--                <input type="text" class="form-control " id="projectName" placeholder="Enter name of the project"-->
<!--                       required>-->
<!--            </div>-->
<!--        </div>-->

    </div>
    <div class="row">
        <div class="col-md-4"></div>
        <div class="col-md-4">
            <div class="form-group">
<!--                <a type="button" class="btn btn-primary btn-lg" href="" onclick="this.href=document.getElementById('projectName').value" id="btnStart" role="button">Get Started!</a>-->
<!--                <a type="button" class="btn btn-primary btn-lg" href="" onclick="this.href='ShoppingSession3'" id="btnStart" role="button">Get Started!</a>-->
                <a type="button" class="btn btn-primary btn-lg" href="" onclick="this.href='findTutor38'" id="btnStart" role="button">Get Started!</a>
            </div>
        </div>


    </div>
</div>


<script>
    // let inputProjectName = document.getElementById('projectName').value;
    // let inputProjectName = 'ShoppingSession3';
    let inputProjectName = 'findTutor38';

    var isChromium = window.chrome,
        vendorName = window.navigator.vendor;
    if (!(isChromium !== null && isChromium !== undefined && vendorName === "Google Inc.")) {
        $('#btnStart').on('click', function (event) {
            event.preventDefault();
            alert('Please, use Google Chrome!');
        });
    } else {
        $('#btnStart').on('click', function (event) {
            var ref = firebase.database().ref().child('Projects').child(inputProjectName).child('history').child('logs');
            var userInfo = firebase.auth().currentUser;
            ref.push({
                eventType:"Landed.dashboard",
                eventDescription: "Get Started Clicked",
                epochTime: firebase.database.ServerValue.TIMESTAMP,
                userEmail: userInfo.email,
                userId: userInfo.uid,
                userDisplayName: userInfo.displayName
            });

        });
    }

    // it is commented because in the firest load it takes long time. if this change does not fix the problem revert it
    // var ref = firebase.database().ref('defaultProject');
    //var inputProjectName = document.getElementById("projectName").value;

    var ref = firebase.database().ref().child('Projects').child(inputProjectName);
    ref.once('value', function (snap) {
        console.log('default project is ' + snap.val());
        // if (snap.val() != null)
        // 	$('#btnStart').attr('href', '/' + snap.val());
        // else
        $('#btnStart').attr('href', inputProjectName);
        // if(inputProjectName.length==0 || inputProjectName === "" || ! inputProjectName){
        //     console.log('334 inputProjectName',inputProjectName);
        // }else {
        //     console.log('336 inputProjectName',$("#projectName").val());
        //  $('#btnStart').attr('href', $('#projectName').val());
        // $('#btnStart').attr('href', '/todoComplementary');
        setTimeout(function () {

            // $('#btnStart').attr('href', '/todoComplement');
            //  $('#btnStart').attr('href', '/todo');
            // $('#btnStart').attr('href', '/todoComplementary');
            console.log('redirected again');
        }, 32000);
        // }

    });

</script>
</body>

</html>
